2025-01-15T10:30:15.123Z [INFO] BookingServicesAPI - Startup complete. FastAPI v1.0.0
2025-01-15T10:30:18.789Z [INFO] HTTPRequest - GET /health - 200 OK - 12ms
2025-01-15T10:30:22.456Z [INFO] HTTPRequest - POST /users/ - 201 Created - 156ms - body: {email:test@example.com}
2025-01-15T10:30:23.012Z [INFO] HTTPRequest - POST /bookings/ - 201 Created - 234ms - body: {user_id:1,service_id:2}
2025-01-15T10:30:24.345Z [WARN] DatabaseQuery - Slow query detected on bookings between 2025-01-01 and 2025-01-31 - 234ms
2025-01-15T10:30:25.234Z [ERROR] DatabaseError - duplicate key value violates unique constraint "users_email_key" - SQL: INSERT INTO users ...
2025-01-15T10:30:26.123Z [ERROR] LogicError - Invalid booking time range - start after end - user_id=1 service_id=2
2025-01-15T10:30:27.012Z [ERROR] LibraryError - requests.exceptions.Timeout calling api.stripe.com - POST /v1/payment_intents
2025-01-15T10:30:28.012Z [ERROR] APIError - External email service 503 Service Unavailable - POST /send
2025-01-15T10:30:29.012Z [CRITICAL] SystemError - DB pool exhausted - active=20 waiting=7
2025-01-15T10:30:31.012Z [INFO] HTTPRequest - DELETE /bookings/10 - 204 No Content - 34ms
2025-01-15T10:30:36.012Z [INFO] HTTPRequest - GET /stats/bookings - 200 OK - 123ms
2024-01-15T10:30:15.123Z [INFO] BookingServicesAPI - Application startup initiated. Loading configuration from /etc/booking-services/config.yaml
2024-01-15T10:30:15.456Z [INFO] BookingServicesAPI - Database connection pool initialized with 20 connections
2024-01-15T10:30:15.789Z [INFO] BookingServicesAPI - Redis cache connection established successfully
2024-01-15T10:30:16.012Z [INFO] BookingServicesAPI - Elasticsearch cluster health check passed
2024-01-15T10:30:16.234Z [INFO] BookingServicesAPI - JWT secret key loaded from environment variables
2024-01-15T10:30:16.567Z [INFO] BookingServicesAPI - Rate limiting middleware configured with 100 requests per minute
2024-01-15T10:30:16.890Z [INFO] BookingServicesAPI - CORS middleware enabled for domains: [localhost:3000, app.booking.com, admin.booking.com]
2024-01-15T10:30:17.123Z [INFO] BookingServicesAPI - Prometheus metrics endpoint configured at /metrics
2024-01-15T10:30:17.456Z [INFO] BookingServicesAPI - Application startup completed successfully in 2.333 seconds

2024-01-15T10:30:18.789Z [INFO] HTTPRequest - GET /health - 200 OK - Response time: 12ms - User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36
2024-01-15T10:30:19.012Z [INFO] HTTPRequest - GET / - 200 OK - Response time: 8ms - User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36
2024-01-15T10:30:19.234Z [INFO] HTTPRequest - GET /docs - 200 OK - Response time: 45ms - User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36

2024-01-15T10:30:20.567Z [INFO] DatabaseQuery - SELECT * FROM users WHERE email = 'john.doe@example.com' - Execution time: 15ms - Rows returned: 1
2024-01-15T10:30:20.890Z [INFO] DatabaseQuery - INSERT INTO users (email, username, full_name, phone) VALUES (?, ?, ?, ?) - Execution time: 8ms - Rows affected: 1
2024-01-15T10:30:21.123Z [INFO] DatabaseQuery - SELECT * FROM services WHERE category = 'Healthcare' AND is_available = true - Execution time: 23ms - Rows returned: 45

2024-01-15T10:30:22.456Z [INFO] HTTPRequest - POST /users/ - 201 Created - Response time: 156ms - User-Agent: PostmanRuntime/7.32.3 - Request body size: 234 bytes
2024-01-15T10:30:22.789Z [INFO] HTTPRequest - POST /services/ - 201 Created - Response time: 89ms - User-Agent: curl/7.68.0 - Request body size: 456 bytes
2024-01-15T10:30:23.012Z [INFO] HTTPRequest - POST /bookings/ - 201 Created - Response time: 234ms - User-Agent: Insomnia/8.5.1 - Request body size: 567 bytes

2024-01-15T10:30:24.345Z [WARN] DatabaseQuery - Slow query detected: SELECT b.*, u.full_name, s.name FROM bookings b JOIN users u ON b.user_id = u.id JOIN services s ON b.service_id = s.id WHERE b.booking_date BETWEEN '2024-01-01' AND '2024-01-31' - Execution time: 234ms - Consider adding index on booking_date
2024-01-15T10:30:24.678Z [WARN] DatabaseQuery - Connection pool usage at 85% - Active connections: 17/20 - Consider increasing pool size
2024-01-15T10:30:24.901Z [WARN] CacheOperation - Redis cache miss for key: user_profile_12345 - Cache hit rate: 78.5%

2024-01-15T10:30:25.234Z [ERROR] DatabaseError - Connection timeout to PostgreSQL database - Error: connection to server at "db.booking.com" (10.0.0.15), port 5432 failed: timeout expired - Retry attempt: 3/5
2024-01-15T10:30:25.567Z [ERROR] DatabaseError - Deadlock detected in transaction - Error: deadlock detected - Detail: Process 12345 waits for ShareLock on transaction 67890; blocked by process 67890 - SQL: UPDATE bookings SET status = 'confirmed' WHERE id = 12345
2024-01-15T10:30:25.890Z [ERROR] DatabaseError - Constraint violation on users table - Error: duplicate key value violates unique constraint "users_email_key" - Detail: Key (email)=(john.doe@example.com) already exists - SQL: INSERT INTO users (email, username, full_name) VALUES ('john.doe@example.com', 'johndoe', 'John Doe')

2024-01-15T10:30:26.123Z [ERROR] LogicError - Invalid booking time range - Error: Start time (2024-01-15T22:00:00Z) is after end time (2024-01-15T21:00:00Z) - User ID: 12345 - Service ID: 67 - Request ID: req_abc123def456
2024-01-15T10:30:26.456Z [ERROR] LogicError - Service availability check failed - Error: Service with ID 89 is not available on 2024-01-15 - Available days: [Monday, Tuesday, Wednesday, Thursday, Friday] - Requested day: Sunday
2024-01-15T10:30:26.789Z [ERROR] LogicError - User authentication token expired - Error: JWT token expired at 2024-01-15T10:25:00Z - Current time: 2024-01-15T10:30:26Z - User ID: 12345 - Token issued at: 2024-01-15T09:30:00Z

2024-01-15T10:30:27.012Z [ERROR] LibraryError - Redis connection failed - Error: redis.exceptions.ConnectionError: Error 111 connecting to redis.booking.com:6379. Connection refused - Library: redis-py 4.5.4 - Python version: 3.11.5
2024-01-15T10:30:27.345Z [ERROR] LibraryError - Elasticsearch bulk operation failed - Error: elasticsearch.exceptions.ConnectionTimeout: Connection timeout to elasticsearch.booking.com:9200 - Library: elasticsearch-py 8.8.0 - Python version: 3.11.5 - Timeout: 30s
2024-01-15T10:30:27.678Z [ERROR] LibraryError - JWT token validation failed - Error: jose.exceptions.ExpiredSignatureError: Signature has expired - Library: python-jose 3.3.0 - Python version: 3.11.5 - Token expiration: 2024-01-15T10:25:00Z

2024-01-15T10:30:28.012Z [ERROR] APIError - External payment gateway timeout - Error: requests.exceptions.Timeout: HTTPSConnectionPool(host='api.stripe.com', port=443): Read timed out - Endpoint: /v1/payment_intents - Request ID: req_pay_xyz789abc123 - User ID: 12345
2024-01-15T10:30:28.345Z [ERROR] APIError - Email service delivery failed - Error: smtplib.SMTPRecipientsRefused: {'user@example.com': (550, b'5.1.1 The email account that you tried to reach does not exist')} - Service: SendGrid - Template ID: booking_confirmation_123 - User ID: 12345
2024-01-15T10:30:28.678Z [ERROR] APIError - SMS gateway rate limit exceeded - Error: twilio.base.exceptions.TwilioRestException: 429 Too Many Requests - Service: Twilio - Account SID: AC1234567890abcdef - User ID: 12345

2024-01-15T10:30:29.012Z [CRITICAL] SystemError - Database connection pool exhausted - Error: All 20 database connections are in use - Active connections: 20 - Waiting requests: 15 - System memory usage: 87% - CPU usage: 92%
2024-01-15T10:30:29.345Z [CRITICAL] SystemError - Out of memory error - Error: MemoryError: Unable to allocate 256MB for image processing - Available memory: 128MB - Required memory: 256MB - Process: image_processor_worker_1
2024-01-15T10:30:29.678Z [CRITICAL] SystemError - Disk space critical - Error: OSError: No space left on device - Available space: 512MB - Required space: 2GB - Mount point: /var/log/booking-services

2024-01-15T10:30:30.012Z [DEBUG] HTTPRequest - Request headers: {'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...', 'Content-Type': 'application/json', 'User-Agent': 'BookingApp/2.1.0 (iOS; iPhone 14; iOS 17.0)'}
2024-01-15T10:30:30.345Z [DEBUG] HTTPRequest - Request body: {"user_id": 12345, "service_id": 67, "booking_date": "2024-01-16", "start_time": "2024-01-16T10:00:00Z", "end_time": "2024-01-16T11:00:00Z", "total_price": 89}
2024-01-15T10:30:30.678Z [DEBUG] DatabaseQuery - SQL parameters: [12345, 67, '2024-01-16', '2024-01-16T10:00:00Z', '2024-01-16T11:00:00Z', 89, 'pending']

2024-01-15T10:30:31.012Z [INFO] HTTPRequest - GET /users/12345/bookings - 200 OK - Response time: 67ms - User-Agent: BookingApp/2.1.0 (iOS; iPhone 14; iOS 17.0) - Response size: 2.3KB
2024-01-15T10:30:31.345Z [INFO] HTTPRequest - PUT /users/12345 - 200 OK - Response time: 89ms - User-Agent: PostmanRuntime/7.32.3 - Request body size: 123 bytes
2024-01-15T10:30:31.678Z [INFO] HTTPRequest - DELETE /bookings/67890 - 204 No Content - Response time: 34ms - User-Agent: Insomnia/8.5.1

2024-01-15T10:30:32.012Z [WARN] SecurityWarning - Multiple failed login attempts detected - User: admin@booking.com - IP: 192.168.1.100 - Failed attempts: 5 - Last attempt: 2024-01-15T10:30:32Z
2024-01-15T10:30:32.345Z [WARN] SecurityWarning - Suspicious API usage pattern - User ID: 12345 - Endpoint: /bookings/ - Request count in last hour: 150 - Average: 25 - Threshold: 100
2024-01-15T10:30:32.678Z [WARN] SecurityWarning - Unusual user agent detected - User-Agent: "Mozilla/5.0 (compatible; Bot/1.0; +http://example.com/bot)" - IP: 203.0.113.45 - Request count: 1000

2024-01-15T10:30:33.012Z [ERROR] ValidationError - Invalid email format - Error: Email 'invalid-email-format' does not match required pattern - Field: email - User ID: 12345 - Request ID: req_val_abc123def456
2024-01-15T10:30:33.345Z [ERROR] ValidationError - Phone number validation failed - Error: Phone '+1-555-123-4567' does not match required format - Field: phone - User ID: 12345 - Request ID: req_val_abc123def456
2024-01-15T10:30:33.678Z [ERROR] ValidationError - Date range validation failed - Error: Booking date '2024-01-10' is in the past - Field: booking_date - User ID: 12345 - Request ID: req_val_abc123def456

2024-01-15T10:30:34.012Z [INFO] BusinessLogic - Booking confirmed successfully - User ID: 12345 - Service ID: 67 - Booking ID: 67890 - Confirmation sent via email and SMS
2024-01-15T10:30:34.345Z [INFO] BusinessLogic - Payment processed successfully - User ID: 12345 - Booking ID: 67890 - Amount: $89.00 - Payment method: credit_card - Transaction ID: txn_1234567890abcdef
2024-01-15T10:30:34.678Z [INFO] BusinessLogic - Service availability updated - Service ID: 67 - New availability: Monday-Friday 9AM-6PM - Updated by: admin@booking.com

2024-01-15T10:30:35.012Z [DEBUG] CacheOperation - Redis cache hit for key: service_details_67 - Cache hit rate: 82.3% - Response time: 2ms
2024-01-15T10:30:35.345Z [DEBUG] CacheOperation - Redis cache miss for key: user_preferences_12345 - Cache hit rate: 82.3% - Response time: 45ms
2024-01-15T10:30:35.678Z [DEBUG] CacheOperation - Redis cache set for key: user_preferences_12345 - TTL: 3600 seconds - Size: 1.2KB

2024-01-15T10:30:36.012Z [INFO] HTTPRequest - GET /stats/bookings - 200 OK - Response time: 123ms - User-Agent: AdminDashboard/1.0.0 - Response size: 15.7KB
2024-01-15T10:30:36.345Z [INFO] HTTPRequest - GET /stats/services - 200 OK - Response time: 89ms - User-Agent: AdminDashboard/1.0.0 - Response size: 8.9KB
2024-01-15T10:30:36.678Z [INFO] HTTPRequest - GET /stats/revenue - 200 OK - Response time: 234ms - User-Agent: AdminDashboard/1.0.0 - Response size: 12.3KB

2024-01-15T10:30:37.012Z [ERROR] DatabaseError - Query execution timeout - Error: Query execution exceeded 30 second timeout - SQL: SELECT b.*, u.*, s.* FROM bookings b JOIN users u ON b.user_id = u.id JOIN services s ON b.service_id = s.id WHERE b.booking_date > '2023-01-01' ORDER BY b.created_at DESC - Execution time: 31.2s
2024-01-15T10:30:37.345Z [ERROR] DatabaseError - Connection pool deadlock - Error: All connections in pool are waiting for database locks - Active connections: 20 - Waiting connections: 8 - Database locks: 15
2024-01-15T10:30:37.678Z [ERROR] DatabaseError - Database server overloaded - Error: PostgreSQL server is rejecting connections - Active connections: 150 - Max connections: 100 - CPU usage: 95% - Memory usage: 88%

2024-01-15T10:30:38.012Z [ERROR] LogicError - Circular dependency detected in service categories - Error: Service category 'Healthcare' depends on 'Medical' which depends on 'Healthcare' - Service ID: 123 - Category hierarchy: Healthcare -> Medical -> Healthcare
2024-01-15T10:30:38.345Z [ERROR] LogicError - Booking conflict resolution failed - Error: Multiple bookings for same service at overlapping times - Service ID: 67 - Conflicting bookings: [67890, 67891, 67892] - Time range: 2024-01-16T10:00:00Z to 2024-01-16T11:00:00Z
2024-01-15T10:30:38.678Z [ERROR] LogicError - User permission escalation attempt - Error: User with role 'customer' attempted to access admin endpoint /admin/users - User ID: 12345 - Role: customer - Required role: admin - IP: 192.168.1.100

2024-01-15T10:30:39.012Z [ERROR] LibraryError - HTTP client connection pool exhausted - Error: urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.external-service.com', port=443): Max retries exceeded - Library: urllib3 2.0.4 - Python version: 3.11.5 - Max retries: 3
2024-01-15T10:30:39.345Z [ERROR] LibraryError - JSON parsing failed - Error: json.decoder.JSONDecodeError: Expecting property name enclosed in double quotes - Library: json (built-in) - Python version: 3.11.5 - Invalid JSON: {name: "value", "valid": true}
2024-01-15T10:30:39.678Z [ERROR] LibraryError - XML parsing failed - Error: xml.etree.ElementTree.ParseError: not well-formed (invalid token) - Library: xml.etree.ElementTree (built-in) - Python version: 3.11.5 - Invalid XML: <root><tag>value</tag><unclosed>

2024-01-15T10:30:40.012Z [ERROR] APIError - Third-party service rate limit exceeded - Error: 429 Too Many Requests - Service: Google Maps API - Endpoint: /maps/api/geocode/json - Quota: 1000 requests/day - Used: 1000 - Reset time: 2024-01-16T00:00:00Z
2024-01-15T10:30:40.345Z [ERROR] APIError - External authentication service down - Error: 503 Service Unavailable - Service: Auth0 - Endpoint: /oauth/token - Response time: 15.3s - Timeout: 10s
2024-01-15T10:30:40.678Z [ERROR] APIError - Payment gateway authentication failed - Error: 401 Unauthorized - Service: Stripe - Endpoint: /v1/payment_intents - Reason: Invalid API key - API key: sk_test_... - User ID: 12345

2024-01-15T10:30:41.012Z [CRITICAL] SystemError - Application memory leak detected - Error: Memory usage increased from 512MB to 2.1GB in 1 hour - Process: booking_api_worker_1 - Memory limit: 1GB - Action required: Restart worker process
2024-01-15T10:30:41.345Z [CRITICAL] SystemError - Database connection leak - Error: 15 database connections not returned to pool - Process: booking_api_worker_1 - Active connections: 35 - Pool size: 20 - Action required: Investigate connection handling
2024-01-15T10:30:41.678Z [CRITICAL] SystemError - File descriptor limit exceeded - Error: Too many open files - Current limit: 1024 - Open files: 1025 - Process: booking_api_worker_1 - Action required: Increase file descriptor limit

2024-01-15T10:30:42.012Z [INFO] PerformanceMetrics - Database query performance degraded - Average query time: 45ms (normal: 15ms) - Slow queries: 23 - Affected tables: [bookings, users, services] - Recommendation: Add database indexes
2024-01-15T10:30:42.345Z [INFO] PerformanceMetrics - API response time increased - Average response time: 234ms (normal: 89ms) - Slow endpoints: [/bookings/, /stats/revenue] - Recommendation: Optimize database queries
2024-01-15T10:30:42.678Z [INFO] PerformanceMetrics - Cache hit rate decreased - Current rate: 78.5% (normal: 85%) - Cache size: 2.1GB - Memory usage: 87% - Recommendation: Increase cache memory

2024-01-15T10:30:43.012Z [DEBUG] SecurityAudit - User authentication successful - User ID: 12345 - Username: john.doe@example.com - IP: 192.168.1.100 - User-Agent: BookingApp/2.1.0 (iOS; iPhone 14; iOS 17.0) - Session ID: sess_abc123def456
2024-01-15T10:30:43.345Z [DEBUG] SecurityAudit - API key validation successful - API key: bk_live_1234567890abcdef - Scope: read:bookings, write:bookings - Rate limit: 1000 requests/hour - Remaining: 856
2024-01-15T10:30:43.678Z [DEBUG] SecurityAudit - Rate limiting applied - User ID: 12345 - Endpoint: /bookings/ - Requests in window: 45 - Window size: 3600 seconds - Limit: 100

2024-01-15T10:30:44.012Z [INFO] HTTPRequest - PATCH /bookings/67890/status - 200 OK - Response time: 67ms - User-Agent: AdminDashboard/1.0.0 - Status changed from 'pending' to 'confirmed'
2024-01-15T10:30:44.345Z [INFO] HTTPRequest - GET /bookings/?user_id=12345&status=confirmed - 200 OK - Response time: 34ms - User-Agent: BookingApp/2.1.0 (iOS; iPhone 14; iOS 17.0) - Response size: 1.8KB
2024-01-15T10:30:44.678Z [INFO] HTTPRequest - GET /services/?category=Healthcare&is_available=true - 200 OK - Response time: 56ms - User-Agent: WebApp/3.2.1 - Response size: 4.5KB

2024-01-15T10:30:45.012Z [WARN] BusinessWarning - Low service availability - Service ID: 67 - Available slots: 2 - Total slots: 20 - Utilization: 90% - Recommendation: Add more service providers
2024-01-15T10:30:45.345Z [WARN] BusinessWarning - High cancellation rate - Service ID: 89 - Cancellation rate: 25% - Average: 8% - Threshold: 20% - Investigation required
2024-01-15T10:30:45.678Z [WARN] BusinessWarning - Peak booking time approaching - Current time: 10:30 AM - Peak hours: 9:00 AM - 11:00 AM - Current load: 75% - Expected load: 90%

2024-01-15T10:30:46.012Z [ERROR] IntegrationError - Webhook delivery failed - Error: HTTP 500 Internal Server Error - Webhook URL: https://partner.booking.com/webhook/booking-update - Payload size: 2.3KB - Retry attempt: 3/5 - Next retry: 2024-01-15T10:35:00Z
2024-01-15T10:30:46.345Z [ERROR] IntegrationError - Data synchronization failed - Error: Checksum mismatch for user data - Expected: a1b2c3d4e5f6 - Actual: f6e5d4c3b2a1 - Table: users - Last sync: 2024-01-15T10:00:00Z
2024-01-15T10:30:46.678Z [ERROR] IntegrationError - Third-party API version mismatch - Error: API version 2.1 not supported - Required version: 2.0 - Service: PaymentGateway - Endpoint: /v2.1/process - Action required: Update API client

2024-01-15T10:30:47.012Z [INFO] Maintenance - Database maintenance started - Tables: [bookings, users, services] - Operation: VACUUM ANALYZE - Estimated duration: 15 minutes
2024-01-15T10:30:47.345Z [INFO] Maintenance - Cache cleanup completed - Removed keys: 1234 - Cache size before: 2.1GB - Cache size after: 1.8GB - Duration: 2.3 seconds
2024-01-15T10:30:47.678Z [INFO] Maintenance - Log rotation completed - Old log files: 15 - Total size: 2.3GB - Compressed size: 456MB - Duration: 45 seconds

2024-01-15T10:30:48.012Z [DEBUG] DatabaseQuery - EXPLAIN ANALYZE: SELECT b.*, u.full_name, s.name FROM bookings b JOIN users u ON b.user_id = u.id JOIN services s ON b.service_id = s.id WHERE b.booking_date = '2024-01-16' - Execution plan: Seq Scan on bookings b, Index Scan on users u, Index Scan on services s
2024-01-15T10:30:48.345Z [DEBUG] DatabaseQuery - Query statistics: Planning time: 0.123ms, Execution time: 15.678ms, Rows returned: 45, Rows examined: 1234, Buffers read: 89, Buffers written: 0
2024-01-15T10:30:48.678Z [DEBUG] DatabaseQuery - Connection pool status: Total: 20, Active: 12, Idle: 8, Waiting: 0, Max wait time: 45ms

2024-01-15T10:30:49.012Z [INFO] HTTPRequest - GET /users/12345/bookings/history - 200 OK - Response time: 123ms - User-Agent: BookingApp/2.1.0 (iOS; iPhone 14; iOS 17.0) - Response size: 8.9KB - Pagination: page 1 of 3
2024-01-15T10:30:49.345Z [INFO] HTTPRequest - POST /bookings/bulk - 201 Created - Response time: 456ms - User-Agent: AdminDashboard/1.0.0 - Request body size: 15.7KB - Bulk operations: 25 bookings created
2024-01-15T10:30:49.678Z [INFO] HTTPRequest - GET /services/search?q=massage&category=Wellness&price_min=50&price_max=150 - 200 OK - Response time: 89ms - User-Agent: WebApp/3.2.1 - Response size: 3.4KB - Search results: 12 services

2024-01-15T10:30:50.012Z [ERROR] DatabaseError - Foreign key constraint violation - Error: insert or update on table "bookings" violates foreign key constraint "bookings_user_id_fkey" - Detail: Key (user_id)=(99999) is not present in table "users" - SQL: INSERT INTO bookings (user_id, service_id, booking_date, start_time, end_time, total_price) VALUES (99999, 67, '2024-01-16', '2024-01-16T10:00:00Z', '2024-01-16T11:00:00Z', 89)
2024-01-15T10:30:50.345Z [ERROR] DatabaseError - Check constraint violation - Error: new row for relation "bookings" violates check constraint "bookings_total_price_check" - Detail: Failing row contains (67893, 12345, 67, 2024-01-16, 2024-01-16T10:00:00Z, 2024-01-16T11:00:00Z, pending, null, -50, 2024-01-15T10:30:50Z, 2024-01-15T10:30:50Z) - Constraint: total_price > 0
2024-01-15T10:30:50.678Z [ERROR] DatabaseError - Unique constraint violation - Error: duplicate key value violates unique constraint "bookings_user_service_time_unique" - Detail: Key (user_id, service_id, start_time)=(12345, 67, 2024-01-16T10:00:00Z) already exists

2024-01-15T10:30:51.012Z [ERROR] LogicError - Business rule validation failed - Error: User cannot book more than 3 services per day - User ID: 12345 - Current bookings today: 3 - Requested service: 89 - Business rule: MAX_DAILY_BOOKINGS = 3
2024-01-15T10:30:51.345Z [ERROR] LogicError - Service capacity exceeded - Error: Service capacity limit reached - Service ID: 67 - Current bookings: 25 - Maximum capacity: 25 - Requested time: 2024-01-16T10:00:00Z - User ID: 12345
2024-01-15T10:30:51.678Z [ERROR] LogicError - Payment validation failed - Error: Insufficient funds in user account - User ID: 12345 - Account balance: $25.00 - Required amount: $89.00 - Service ID: 67

2024-01-15T10:30:52.012Z [ERROR] LibraryError - HTTP client certificate validation failed - Error: ssl.SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed - Library: urllib3 2.0.4 - Python version: 3.11.5 - Certificate: /etc/ssl/certs/ca-certificates.crt
2024-01-15T10:30:52.345Z [ERROR] LibraryError - Image processing failed - Error: PIL.UnidentifiedImageError: cannot identify image file - Library: Pillow 10.0.0 - Python version: 3.11.5 - File: user_avatar_12345.jpg - Size: 2.3KB
2024-01-15T10:30:52.678Z [ERROR] LibraryError - PDF generation failed - Error: reportlab.pdfgen.canvas.CanvasError: Invalid page size - Library: reportlab 4.0.4 - Python version: 3.11.5 - Page size: 0x0 - Valid sizes: A4, Letter, Legal

2024-01-15T10:30:53.012Z [ERROR] APIError - External service authentication failed - Error: 401 Unauthorized - Service: Twilio - Endpoint: /2010-04-01/Accounts/AC1234567890abcdef/Messages.json - Reason: Invalid Account SID or Auth Token - Account SID: AC1234567890abcdef
2024-01-15T10:30:53.345Z [ERROR] APIError - Webhook signature verification failed - Error: 400 Bad Request - Service: Stripe - Endpoint: /webhook - Reason: Invalid signature - Expected signature: whsec_abc123def456 - Received signature: whsec_xyz789abc123
2024-01-15T10:30:53.678Z [ERROR] APIError - Rate limit exceeded for external service - Error: 429 Too Many Requests - Service: Google Places API - Endpoint: /maps/api/place/details/json - Quota: 1000 requests/day - Used: 1000 - Reset time: 2024-01-16T00:00:00Z

2024-01-15T10:30:54.012Z [CRITICAL] SystemError - Application crash detected - Error: Segmentation fault - Process: booking_api_worker_1 - PID: 12345 - Memory dump: /var/crash/booking_api_worker_1_2024-01-15_10-30-54.dmp - Action required: Restart worker process
2024-01-15T10:30:54.345Z [CRITICAL] SystemError - Database server crash - Error: PostgreSQL server process terminated unexpectedly - Process: postgres - PID: 67890 - Log file: /var/log/postgresql/postgresql-2024-01-15.log - Action required: Restart database server
2024-01-15T10:30:54.678Z [CRITICAL] SystemError - Load balancer failure - Error: All backend servers are down - Backend servers: [10.0.0.10:8000, 10.0.0.11:8000, 10.0.0.12:8000] - Health check endpoint: /health - Action required: Investigate backend server issues

2024-01-15T10:30:55.012Z [INFO] Recovery - Application worker process restarted - Process: booking_api_worker_1 - PID: 12346 - Restart reason: Segmentation fault - Uptime: 0 seconds - Memory usage: 128MB
2024-01-15T10:30:55.345Z [INFO] Recovery - Database connection pool reinitialized - Pool size: 20 - Active connections: 0 - Idle connections: 20 - Duration: 2.3 seconds
2024-01-15T10:30:55.678Z [INFO] Recovery - Cache warm-up completed - Keys loaded: 1234 - Cache size: 1.8GB - Duration: 15.6 seconds

2024-01-15T10:30:56.012Z [DEBUG] PerformanceProfiling - Function execution time: create_booking - Total time: 234ms - Database queries: 156ms - External API calls: 45ms - Business logic: 33ms - Function: create_booking in booking_service.py:123
2024-01-15T10:30:56.345Z [DEBUG] PerformanceProfiling - Memory allocation: create_booking - Initial memory: 128MB - Peak memory: 156MB - Final memory: 134MB - Objects created: 45 - Objects destroyed: 34
2024-01-15T10:30:56.678Z [DEBUG] PerformanceProfiling - Database connection usage: create_booking - Connections acquired: 3 - Connections released: 3 - Connection time: 156ms - Pool utilization: 15%

2024-01-15T10:30:57.012Z [INFO] HTTPRequest - GET /metrics - 200 OK - Response time: 12ms - User-Agent: Prometheus/2.45.0 - Response size: 45.6KB - Metrics collected: 234
2024-01-15T10:30:57.345Z [INFO] HTTPRequest - GET /health - 200 OK - Response time: 8ms - User-Agent: Kubernetes/1.28.0 - Response size: 234 bytes - Health status: healthy
2024-01-15T10:30:57.678Z [INFO] HTTPRequest - GET /ready - 200 OK - Response time: 15ms - User-Agent: Kubernetes/1.28.0 - Response size: 234 bytes - Readiness status: ready

2024-01-15T10:30:58.012Z [WARN] ConfigurationWarning - Environment variable not set - Variable: STRIPE_WEBHOOK_SECRET - Default value used: development_secret - Environment: production - Security risk: HIGH
2024-01-15T10:30:58.345Z [WARN] ConfigurationWarning - Feature flag disabled - Flag: ADVANCED_ANALYTICS - Current value: false - Default value: true - Environment: production - Impact: Limited reporting capabilities
2024-01-15T10:30:58.678Z [WARN] ConfigurationWarning - Deprecated configuration detected - Config: legacy_payment_flow - Status: deprecated - Replacement: modern_payment_flow - Migration required: Yes

2024-01-15T10:30:59.012Z [INFO] BusinessMetrics - Daily booking summary - Date: 2024-01-15 - Total bookings: 234 - Confirmed: 189 - Cancelled: 23 - Completed: 156 - Revenue: $18,456.00
2024-01-15T10:30:59.345Z [INFO] BusinessMetrics - Service performance - Top service: Healthcare (45 bookings) - Revenue: $4,050.00 - Average rating: 4.7/5.0 - Customer satisfaction: 92%
2024-01-15T10:30:59.678Z [INFO] BusinessMetrics - User engagement - Active users: 156 - New users: 23 - Returning users: 89 - Average session duration: 12.5 minutes

2024-01-15T10:31:00.012Z [DEBUG] SecurityAudit - Request validation completed - Request ID: req_abc123def456 - Validation time: 12ms - Validation rules: 15 - Passed: 15 - Failed: 0 - Security level: HIGH
2024-01-15T10:31:00.345Z [DEBUG] SecurityAudit - Input sanitization completed - Request ID: req_abc123def456 - Sanitization time: 8ms - Fields sanitized: 8 - XSS attempts blocked: 0 - SQL injection attempts blocked: 0
2024-01-15T10:31:00.678Z [DEBUG] SecurityAudit - Rate limiting check completed - Request ID: req_abc123def456 - User ID: 12345 - Current rate: 45 requests/hour - Limit: 100 requests/hour - Status: ALLOWED

2024-01-15T10:31:01.012Z [INFO] HTTPRequest - Application shutdown initiated - Reason: Graceful shutdown requested - Active connections: 5 - Pending requests: 0 - Shutdown timeout: 30 seconds
2024-01-15T10:31:01.345Z [INFO] HTTPRequest - Database connections closed - Closed connections: 20 - Pool status: empty - Duration: 2.1 seconds
2024-01-15T10:31:01.678Z [INFO] HTTPRequest - Cache connections closed - Redis connections: 5 - Cache size: 0 bytes - Duration: 1.8 seconds
2024-01-15T10:31:02.012Z [INFO] HTTPRequest - Application shutdown completed - Total shutdown time: 3.2 seconds - Status: SUCCESS
